<%-
# HARDCODED PROTOTYPE DATA #####################################################

#budgetGoal = Goal.new("budget", GoalCategory[:money])

items = [
  Task.new("enter receipts", category: GoalCategory[:money])
]

no_cat, has_cat = items.partition { |item| item.category.nil? }

@items_by_category = {}
@category_abbrevs = {}
@category_classes = {}

GoalCategory.each do |cat|
  @items_by_category[cat] = []
  @category_abbrevs[cat] = cat.abbrev
  @category_classes[cat] = "cat-#{cat}"
end
@items_by_category.merge!(has_cat.group_by(&:category))

# END HARDCODED DATA ###########################################################
-%>

<%= render partial: "grouped_items", locals: {
      grouped_items: @items_by_category,
      group_names: @category_abbrevs,
      group_classes: @category_classes,
    }
%>
